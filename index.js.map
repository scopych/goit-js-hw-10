{"version":3,"file":"index.js","sources":["../src/js/1-timer.js"],"sourcesContent":["'use strict';\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst iziToastOptions = {\n\tmessage: \"Please choose a date in the future\",\n\ticon: 'material-icons',\n\ticonText: 'highlight_off',\n\ticonColor: '#fff',\n\tbackgroundColor: '#ef4040',\n\tmessageColor: '#fff',\n\tmessageSize: '16px', \n\tmaxWidth: '302px', \n\tclose: false,\n\tposition: 'topRight',\n\tprogressBar: false,\n\tlayout: 2,\n}\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        const curDate = new Date();\n\n        if (selectedDates[0].getTime() < curDate.getTime() ) {\n            iziToast.show(iziToastOptions);\n            startBtnElem.disabled = true;\n        } else {\n        \tuserSelectedDate = selectedDates[0].getTime();\n        \tstartBtnElem.disabled = false;\n        }\n\t},\n};\n\nconst fp = flatpickr(\"#datetime-picker\", options);\nconst startBtnElem = document.querySelector('.input-btn button');\nconst datePickerElem = document.querySelector('.input-btn input');\nconst daysValue = document.querySelector('[data-days]');\nconst hoursValue = document.querySelector('[data-hours]');\nconst minutesValue = document.querySelector('[data-minutes]');\nconst secondsValue = document.querySelector('[data-seconds]');\nlet countDownIntervalId = 0;\nlet userSelectedDate = 0;\n\nstartBtnElem.disabled = true;\ndatePickerElem.disabled = false;\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n}\n\n\n\nfunction countDownStart (evnt) {\n\tstartBtnElem.disabled = true;\n\tdatePickerElem.disabled = true;\n\tcountDownIntervalId = setInterval(countDown, 1000, userSelectedDate);\n}\n\nfunction countDown (fromDate) {\n    const diff = fromDate - new Date().getTime();\n\tconst current = convertMs(diff);\n    if (current.seconds !== 0) {\n    \tupdateTimerDisplay(current);\n    } else {\n    \tupdateTimerDisplay(current);\n        clearInterval(countDownIntervalId);\n    \tdatePickerElem.disabled = false;\n    }\n}\n\nfunction updateTimerDisplay({ days, hours, minutes, seconds }) {\n    daysValue.textContent = String(days).padStart(2, '0');\n    hoursValue.textContent = String(hours).padStart(2, '0');\n    minutesValue.textContent = String(minutes).padStart(2, '0');\n    secondsValue.textContent = String(seconds).padStart(2, '0');\n}\n\nstartBtnElem.addEventListener('click', countDownStart);\n"],"names":["iziToastOptions","options","selectedDates","curDate","iziToast","startBtnElem","userSelectedDate","flatpickr","datePickerElem","daysValue","hoursValue","minutesValue","secondsValue","countDownIntervalId","convertMs","ms","days","hours","minutes","seconds","countDownStart","evnt","countDown","fromDate","diff","current","updateTimerDisplay"],"mappings":"6vBAMA,MAAMA,EAAkB,CACvB,QAAS,qCACT,KAAM,iBACN,SAAU,gBACV,UAAW,OACX,gBAAiB,UACjB,aAAc,OACd,YAAa,OACb,SAAU,QACV,MAAO,GACP,SAAU,WACV,YAAa,GACb,OAAQ,CACT,EAEMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,MAAMC,EAAU,IAAI,KAEhBD,EAAc,CAAC,EAAE,QAAO,EAAKC,EAAQ,WACrCC,EAAS,KAAKJ,CAAe,EAC7BK,EAAa,SAAW,KAE3BC,EAAmBJ,EAAc,CAAC,EAAE,QAAO,EAC3CG,EAAa,SAAW,GAE/B,CACF,EAEWE,EAAU,mBAAoBN,CAAO,EAChD,MAAMI,EAAe,SAAS,cAAc,mBAAmB,EACzDG,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAC5D,IAAIC,EAAsB,EACtBP,EAAmB,EAEvBD,EAAa,SAAW,GACxBG,EAAe,SAAW,GAE1B,SAASM,EAAUC,EAAI,CAQnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CAIA,SAASC,EAAgBC,EAAM,CAC9BhB,EAAa,SAAW,GACxBG,EAAe,SAAW,GAC1BK,EAAsB,YAAYS,EAAW,IAAMhB,CAAgB,CACpE,CAEA,SAASgB,EAAWC,EAAU,CAC1B,MAAMC,EAAOD,EAAW,IAAI,KAAM,EAAC,QAAO,EACvCE,EAAUX,EAAUU,CAAI,EACvBC,EAAQ,UAAY,EACvBC,EAAmBD,CAAO,GAE1BC,EAAmBD,CAAO,EACvB,cAAcZ,CAAmB,EACpCL,EAAe,SAAW,GAE/B,CAEA,SAASkB,EAAmB,CAAE,KAAAV,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CAC3DV,EAAU,YAAc,OAAOO,CAAI,EAAE,SAAS,EAAG,GAAG,EACpDN,EAAW,YAAc,OAAOO,CAAK,EAAE,SAAS,EAAG,GAAG,EACtDN,EAAa,YAAc,OAAOO,CAAO,EAAE,SAAS,EAAG,GAAG,EAC1DN,EAAa,YAAc,OAAOO,CAAO,EAAE,SAAS,EAAG,GAAG,CAC9D,CAEAd,EAAa,iBAAiB,QAASe,CAAc"}